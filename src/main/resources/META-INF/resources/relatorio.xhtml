<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:p="http://primefaces.org/ui" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Comanda Fácil</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-color: #DDAC7E;
        }

        .main {
            margin-left: 100px;
            padding: 20px;
        }

        .fieldsContainer {
            display: flex;
            justify-content: space-between;
        }

        .field {
            width: 48%;
        }

        .field label {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 5px;
            display: block;
        }

        .field .ui-inputfield {
            font-size: 16px;
            width: 100%;
        }

        .dataTable {
            width: 100%;
            margin-top: 20px;
        }

        .vendasPorContainer {
            margin-bottom: 20px;
        }

        .vendasPorContainer h3 {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .ui-selectmanycheckbox {
            display: flex;
            flex-direction: column;
            font-size: 16px;
        }

        .ui-selectmanycheckbox .ui-chkbox-box {
            margin-right: 5px;
        }

        .ui-button {
            background-color: #5B3C31 !important;
            color: white !important;
            margin-right: 10px;
        }

        .ui-button.ui-icon-left {
            padding-left: 15px;
        }

        .ui-dialog-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .limite {
            width: 18%;
        }
    </style>
</h:head>
<h:body>
    <f:metadata>
        <f:event type="preRenderView" listener="#{vendasControler.criarListaDAVENDAS1()}" />
    </f:metadata>
    <ui:include src="includes/navbar.xhtml" />
    <ui:include src="includes/logo.xhtml" />

    <div class="main">
        <h3>Relatório</h3>

        <div style="display: flex; justify-content: flex-end; margin-bottom: 20px;">
            <p:commandButton styleClass="ui-button ui-icon-left" type="button" value="Gerar Relatorio "
                icon="pi pi-plus" onclick="PF('dialogoGerarRelatorio').show()" />
        </div>

        <p:dataTable var="venda" value="#{vendasControler.listaDaVendas}" class="dataTable">
            <p:column headerText="ID" sortBy="#{venda.id}" filterBy="#{venda.id}">
                <h:outputText value="#{venda.id}" />
            </p:column>
            <p:column headerText="Data" sortBy="#{venda.data}" filterBy="#{venda.data}">
                <h:outputText value="#{venda.dataFormatada}" />
            </p:column>
            <p:column headerText="Aliemento" sortBy="#{venda.alimento}" filterBy="#{venda.alimento}">
                <h:outputText value="#{venda.alimento}" />
            </p:column>
            <p:column headerText="Valor Total" sortBy="#{venda.valorTotal}" filterBy="#{venda.valorTotal}">
                <h:outputText value="#{venda.valorTotal}" />
            </p:column>
            <p:column headerText="Nº da Mesa" sortBy="#{venda.numeroDaMesa}" filterBy="#{venda.numeroDaMesa}">
                <h:outputText value="#{venda.numeroDaMesa}" />
            </p:column>
            <p:column headerText="Forma de Pagamento" sortBy="#{venda.formaPagamento}" filterBy="#{venda.formaPagamento}">
                <h:outputText value="#{venda.formaPagamento}" />
            </p:column>
        </p:dataTable>
        
        
    </div>

    <p:dialog header="Gerar Relatorio" widgetVar="dialogoGerarRelatorio" modal="true" resizable="false">
        <h:form style="display: flex; flex-direction: column; align-items: center;">

            <div class="fieldsContainer">
                <div class="field">
                    <p:outputLabel for="inicio" value="Início" />
                    <p:calendar id="inicio" value="#{selectOneMenuView.inicio}" showButtonPanel="true" dateFormat="yy"
                        yearRange="1900:2100" />
                </div>

                <div class="field">
                    <p:outputLabel for="termino" value="Término" />
                    <p:calendar id="termino" value="#{selectOneMenuView.termino}" showButtonPanel="true" dateFormat="yy"
                        yearRange="1900:2100" />
                </div>
            </div>

            <div class="vendasPorContainer">
                <h3>Vendas por:</h3>

                <p:selectManyCheckbox id="basicAjax" value="#{checkboxView.selectedOptions}" widgetVar="blub">
                    <p:ajax listener="#{checkboxView.selectedOptionsChanged}" />
                    <f:selectItem itemLabel="Clientes" itemValue="clientes" />
                    <f:selectItem itemLabel="Produto" itemValue="produto" />
                </p:selectManyCheckbox>
            </div>

            <p:dataTable var="product" value="#{dtBasicView.itensDoCardapio}" class="dataTable">
                <p:column headerText="Código">
                    <h:outputText value="#{product.codigo}" />
                </p:column>
                <p:column headerText="Descrição do produto">
                    <h:outputText value="#{product.descricao}" />
                </p:column>
            </p:dataTable>
        </h:form>
    </p:dialog>
</h:body>

</html>